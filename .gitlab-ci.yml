build:
  image: solarbotics/arduino-cli:0.26.0-python3.8
  before_script:
    - pip install pyserial
    - arduino-cli lib --additional-urls https://github.com/e-radionicacom/Croduino-Board-Definitions-for-Arduino-IDE/raw/master/package_Croduino_Boards_index.json install InkplateLibrary ezTime
    - arduino-cli core --additional-urls https://github.com/e-radionicacom/Croduino-Board-Definitions-for-Arduino-IDE/raw/master/package_Croduino_Boards_index.json install Croduino_Boards:Inkplate
  script:
    - cp config.h.example config.h
    - arduino-cli compile --fqbn Croduino_Boards:Inkplate:Inkplate6 kartka -e
  artifacts:
    paths:
      - build
